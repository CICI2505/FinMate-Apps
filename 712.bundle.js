/*! For license information please see 712.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkapp_starter_project_with_webpack=self.webpackChunkapp_starter_project_with_webpack||[]).push([[712],{712:(n,t,e)=>{e.r(t),e.d(t,{default:()=>v});var o=e(481),r=e.n(o);function i(n){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},i(n)}function a(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,o)}return e}function s(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?a(Object(e),!0).forEach((function(t){c(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):a(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function c(n,t,e){return(t=h(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function l(){l=function(){return t};var n,t={},e=Object.prototype,o=e.hasOwnProperty,r=Object.defineProperty||function(n,t,e){n[t]=e.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",d=a.toStringTag||"@@toStringTag";function u(n,t,e){return Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}),n[t]}try{u({},"")}catch(n){u=function(n,t,e){return n[t]=e}}function p(n,t,e,o){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),s=new S(o||[]);return r(a,"_invoke",{value:B(n,e,s)}),a}function h(n,t,e){try{return{type:"normal",arg:n.call(t,e)}}catch(n){return{type:"throw",arg:n}}}t.wrap=p;var f="suspendedStart",m="suspendedYield",g="executing",y="completed",v={};function b(){}function x(){}function w(){}var k={};u(k,s,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(C([])));E&&E!==e&&o.call(E,s)&&(k=E);var L=w.prototype=b.prototype=Object.create(k);function j(n){["next","throw","return"].forEach((function(t){u(n,t,(function(n){return this._invoke(t,n)}))}))}function O(n,t){function e(r,a,s,c){var l=h(n[r],n,a);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"==i(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(n){e("next",n,s,c)}),(function(n){e("throw",n,s,c)})):t.resolve(u).then((function(n){d.value=n,s(d)}),(function(n){return e("throw",n,s,c)}))}c(l.arg)}var a;r(this,"_invoke",{value:function(n,o){function r(){return new t((function(t,r){e(n,o,t,r)}))}return a=a?a.then(r,r):r()}})}function B(t,e,o){var r=f;return function(i,a){if(r===g)throw Error("Generator is already running");if(r===y){if("throw"===i)throw a;return{value:n,done:!0}}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var c=P(s,o);if(c){if(c===v)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===f)throw r=y,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=g;var l=h(t,e,o);if("normal"===l.type){if(r=o.done?y:m,l.arg===v)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(r=y,o.method="throw",o.arg=l.arg)}}}function P(t,e){var o=e.method,r=t.iterator[o];if(r===n)return e.delegate=null,"throw"===o&&t.iterator.return&&(e.method="return",e.arg=n,P(t,e),"throw"===e.method)||"return"!==o&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+o+"' method")),v;var i=h(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,v;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function R(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]),2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]),this.tryEntries.push(t)}function I(n){var t=n.completion||{};t.type="normal",delete t.arg,n.completion=t}function S(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(R,this),this.reset(!0)}function C(t){if(t||""===t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(o.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return x.prototype=w,r(L,"constructor",{value:w,configurable:!0}),r(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,d,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,w):(n.__proto__=w,u(n,d,"GeneratorFunction")),n.prototype=Object.create(L),n},t.awrap=function(n){return{__await:n}},j(O.prototype),u(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(n,e,o,r,i){void 0===i&&(i=Promise);var a=new O(p(n,e,o,r),i);return t.isGeneratorFunction(e)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},j(L),u(L,d,"Generator"),u(L,s,(function(){return this})),u(L,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),e=[];for(var o in t)e.push(o);return e.reverse(),function n(){for(;e.length;){var o=e.pop();if(o in t)return n.value=o,n.done=!1,n}return n.done=!0,n}},t.values=C,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(o,r){return s.type="throw",s.arg=t,e.next=o,r&&(e.method="next",e.arg=n),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(n,t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===n||"continue"===n)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=n,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),v},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),I(e),v}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===n){var o=e.completion;if("throw"===o.type){var r=o.arg;I(e)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,e,o){return this.delegate={iterator:C(t),resultName:e,nextLoc:o},"next"===this.method&&(this.arg=n),v}},t}function d(n,t,e,o,r,i,a){try{var s=n[i](a),c=s.value}catch(n){return void e(n)}s.done?t(c):Promise.resolve(c).then(o,r)}function u(n){return function(){var t=this,e=arguments;return new Promise((function(o,r){var i=n.apply(t,e);function a(n){d(i,o,r,a,s,"next",n)}function s(n){d(i,o,r,a,s,"throw",n)}a(void 0)}))}}function p(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,h(o.key),o)}}function h(n){var t=function(n){if("object"!=i(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var e=t.call(n,"string");if("object"!=i(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==i(t)?t:t+""}function f(n){var t="function"==typeof Map?new Map:void 0;return f=function(n){if(null===n||!function(n){try{return-1!==Function.toString.call(n).indexOf("[native code]")}catch(t){return"function"==typeof n}}(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(n))return t.get(n);t.set(n,e)}function e(){return function(n,t,e){if(m())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,t);var r=new(n.bind.apply(n,o));return e&&g(r,e.prototype),r}(n,arguments,y(this).constructor)}return e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),g(e,n)},f(n)}function m(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(n){}return(m=function(){return!!n})()}function g(n,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,t){return n.__proto__=t,n},g(n,t)}function y(n){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y(n)}delete r().Icon.Default.prototype._getIconUrl,r().Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});var v=function(n){function t(){var n;return function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(n,t,e){return t=y(t),function(n,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}(n,m()?Reflect.construct(t,e||[],y(n).constructor):t.apply(n,e))}(this,t)).attachShadow({mode:"open"}),n._coordinates=null,n._map=null,n._marker=null,n._resizeObserver=null,n._stream=null,n._photoData=null,n._initTemplate(),n.classList.add("create-page"),n}return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&g(n,t)}(t,n),e=t,o=[{key:"_initTemplate",value:function(){this.shadowRoot.innerHTML='\n      <style>\n        :host {\n          display: flex;\n          justify-content: center;\n          align-items: flex-start;\n          width: 100%;\n          min-height: 100vh;\n          padding: 20px;\n          box-sizing: border-box;\n          overflow-y: auto;\n          background-color:rgb(48, 91, 4);\n          padding: 30px 20px;\n        }\n        \n        .form-container {\n          background-color:rgb(73, 88, 67);\n          padding: 40px;\n          border-radius: 16px;\n          width: calc(100% - 40px);\n          max-width: 800px;\n          min-height: auto;\n          box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);\n          transition: transform 0.3s ease, box-shadow 0.3s ease;\n          margin: 20px auto;\n          position: relative;\n        }\n        \n        .form-header {\n          text-align: center;\n          margin-bottom: 30px;\n          margin-top: 10px;\n        }\n        \n        .form-header h2 {\n          color:rgb(167, 207, 147);\n          margin: 0;\n          font-size: 24px;\n          font-weight: 600;\n        }\n        \n        .form-group {\n          margin-bottom: 18px;\n          flex-shrink: 0;\n        }\n        \n        .form-group label {\n          display: block;\n          margin-bottom: 6px;\n          color: #eeeeee;\n          font-weight: 500;\n          font-size: 14px;\n        }\n        \n        .form-group textarea,\n        .form-group input {\n          width: 100%;\n          padding: 14px 8px;\n          border-radius: 8px;\n          border: 2px solidrgb(74, 87, 74);\n          background-color:rgb(37, 49, 34);\n          color: #eeeeee;\n          font-size: 16px;\n          transition: all 0.3s ease;\n          font-family: \'Poppins\', sans-serif;\n        }\n        \n        .form-group textarea {\n          min-height: 100px;\n          resize: vertical;\n        }\n        \n        .form-group textarea:focus,\n        .form-group input:focus {\n          border-color:rgb(163, 207, 147);\n          box-shadow: 0 0 0 3px rgba(164, 207, 147, 0.2);\n          outline: none;\n        }\n        \n        .image-preview {\n          width: 100%;\n          height: 200px;\n          object-fit: cover;\n          border-radius: 8px;\n          margin-top: 10px;\n          display: none;\n          background-color:rgb(36, 49, 34);\n        }\n\n        .photo-options {\n          display: flex;\n          gap: 10px;\n          margin-bottom: 10px;\n        }\n\n        .photo-option-btn {\n          flex: 1;\n          background:rgb(58, 70, 57);\n          color: white;\n          border: 1px solidrgb(77, 87, 74);\n          padding: 10px;\n          border-radius: 8px;\n          cursor: pointer;\n          font-size: 14px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 8px;\n          transition: all 0.3s ease;\n        }\n\n        .photo-option-btn:hover {\n          background:rgb(74, 87, 74);\n        }\n\n        .photo-option-btn svg {\n          flex-shrink: 0;\n        }\n        \n        .camera-btn {\n          background: linear-gradient(135deg,rgb(152, 207, 147) 0%,rgb(118, 180, 96) 100%);\n          color: white;\n          border: none;\n          padding: 12px;\n          border-radius: 8px;\n          cursor: pointer;\n          font-size: 16px;\n          font-weight: 500;\n          width: 100%;\n          margin-top: 8px;\n          transition: all 0.3s ease;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 8px;\n        }\n        \n        .camera-btn:hover {\n          background: linear-gradient(135deg, #BDCDD6 0%,rgb(154, 207, 147) 100%);\n          transform: translateY(-2px);\n        }\n\n        .camera-modal {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background-color: rgba(0, 0, 0, 0.9);\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          z-index: 10000;\n        }\n\n        .camera-container {\n          width: 100%;\n          max-width: 500px;\n          position: relative;\n        }\n\n        .camera-preview {\n          width: 100%;\n          max-height: 70vh;\n          object-fit: contain;\n          background: #000;\n        }\n\n        .camera-controls {\n          display: flex;\n          justify-content: center;\n          gap: 20px;\n          margin-top: 20px;\n        }\n\n        .capture-btn {\n          width: 60px;\n          height: 60px;\n          border-radius: 50%;\n          background: #fff;\n          border: none;\n          cursor: pointer;\n        }\n\n        .close-camera-btn {\n          position: absolute;\n          top: 20px;\n          right: 20px;\n          background: rgba(255, 255, 255, 0.2);\n          border: none;\n          width: 40px;\n          height: 40px;\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          z-index: 1000;\n        }\n\n        .close-camera-btn svg {\n          width: 24px;\n          height: 24px;\n          stroke: #fff;\n        }\n        \n        .map-container {\n          height: 400px;\n          min-height: 400px;\n          width: calc(100% - 4px);\n          border-radius: 8px;\n          margin: 20px 0;\n          overflow: hidden;\n          background-color: #222831;\n          position: relative;\n          flex-grow: 1;\n          border: 2px solid #4a4e57;\n        }\n\n        .leaflet-container {\n          background: #222831 !important;\n          height: 100% !important;\n          width: 100% !important;\n        }\n        \n        .leaflet-tile-container img {\n          position: absolute;\n          left: 0;\n          top: 0;\n          image-rendering: crisp-edges;\n        }\n\n        .location-btn {\n          background: linear-gradient(135deg,rgb(121, 180, 96) 0%, #93BFCF 100%);\n          color: white;\n          border: none;\n          padding: 12px;\n          border-radius: 8px;\n          cursor: pointer;\n          font-size: 16px;\n          font-weight: 500;\n          width: 100%;\n          margin-top: 8px;\n          transition: all 0.3s ease;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 8px;\n        }\n        \n        .location-btn:hover {\n          background: linear-gradient(135deg,rgb(148, 207, 147) 0%,rgb(190, 214, 189) 100%);\n          transform: translateY(-2px);\n        }\n        \n        #submitButton {\n          background: linear-gradient(135deg,rgb(96, 180, 114) 0%,rgb(164, 207, 147) 100%);\n          color: white;\n          border: none;\n          padding: 14px;\n          border-radius: 8px;\n          cursor: pointer;\n          font-size: 15px;\n          font-weight: 600;\n          width: 100%;\n          margin-top: 8px;\n          transition: all 0.3s ease;\n        }\n        \n        #submitButton:hover {\n          background: linear-gradient(135deg,rgb(156, 207, 147) 0%, #BDCDD6 100%);\n          transform: translateY(-2px);\n        }\n\n        .close-btn {\n          position: absolute;\n          top: 15px;\n          right: 15px;\n          background: rgba(255, 255, 255, 0.2);\n          border: none;\n          width: 32px;\n          height: 32px;\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          z-index: 1000;\n          transition: all 0.3s ease;\n        }\n        \n        .close-btn:hover {\n          background: rgba(255, 255, 255, 0.3);\n          transform: rotate(90deg);\n        }\n        \n        .close-btn svg {\n          width: 18px;\n          height: 18px;\n          stroke: #eeeeee;\n          stroke-width: 2.5px;\n        }\n        \n        #errorMessage {\n          color: #ff6b6b;\n          margin: 12px 0;\n          padding: 10px;\n          background-color: rgba(255, 107, 107, 0.1);\n          border-radius: 8px;\n          text-align: center;\n          display: none;\n          font-size: 13px;\n        }\n\n        #successMessage {\n          color: #51cf66; \n          margin: 12px 0;\n          padding: 10px;\n          background-color: rgba(81, 207, 102, 0.1);\n          border-radius: 8px;\n          text-align: center;\n          display: none;\n          font-size: 13px;\n        }\n\n        .error-text {\n          color: #ff6b6b;\n          font-size: 12px;\n          margin-top: 4px;\n          display: none;\n        }\n        \n        .form-group.invalid textarea,\n        .form-group.invalid input {\n          border-color: #ff6b6b;\n        }\n        \n        .form-group.valid textarea,\n        .form-group.valid input {\n          border-color: #51cf66;\n        }\n        \n        .coordinates-info {\n          color: #9ca3af;\n          font-size: 12px;\n          margin-top: 5px;\n          text-align: center;\n        }\n        \n        @media (max-width: 1024px) {\n          :host {\n            padding: 20px 15px;\n          }\n          \n          .form-container {\n            padding: 30px;\n            max-width: calc(100vw - 30px);\n          }\n          \n          .map-container {\n            height: 350px;\n            min-height: 350px;\n          }\n        }\n\n        @media (max-width: 768px) {\n          :host {\n            padding: 15px 10px;\n          }\n          \n          .form-container {\n            padding: 25px;\n            max-width: calc(100vw - 20px);\n          }\n          \n          .map-container {\n            height: 300px;\n            min-height: 300px;\n          }\n          \n          .form-header h2 {\n            font-size: 22px;\n          }\n          \n          .form-group textarea,\n          .form-group input {\n            padding: 12px 8px;\n            font-size: 15px;\n          }\n        }\n\n        @keyframes gradientFlow {\n          0% { background-position: 0% 50%; }\n          50% { background-position: 100% 50%; }\n          100% { background-position: 0% 50%; }\n        }\n\n        .loading-gradient {\n          background: linear-gradient(135deg,rgb(123, 180, 96) 0%,rgb(153, 207, 147) 50%, #6096B4 100%);\n          background-size: 200% 200%;\n          animation: gradientFlow 2s ease infinite;\n        }\n\n        /* Add to HomePage styles */\n        @keyframes cardEntrance {\n          from {\n            opacity: 0;\n            transform: translateY(20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        .story-card {\n          view-timeline-name: --card;\n          view-timeline-axis: block;\n          animation: cardEntrance linear;\n          animation-timeline: --card;\n          animation-range: entry 25% cover 50%;\n        }\n\n        @media (max-width: 685px) {\n          :host {\n            padding: 10px;\n          }\n          \n          .form-container {\n            padding: 20px 15px;\n            max-width: calc(100vw - 20px);\n          }\n          \n          .map-container {\n            height: 250px;\n            min-height: 250px;\n          }\n          \n          .form-header h2 {\n            font-size: 20px;\n          }\n          \n          .camera-btn,\n          .location-btn,\n          #submitButton {\n            padding: 10px;\n            font-size: 14px;\n          }\n          \n          .form-group label {\n            font-size: 13px;\n          }\n          \n          .coordinates-info {\n            font-size: 11px;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .form-container {\n            padding: 15px 10px;\n          }\n          \n          .map-container {\n            height: 200px;\n            min-height: 200px;\n          }\n          \n          .close-btn {\n            top: 10px;\n            right: 10px;\n            width: 28px;\n            height: 28px;\n          }\n        }\n      </style>\n      <div class="form-container">\n        <button class="close-btn" id="closeButton">\n          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n            <line x1="18" y1="6" x2="6" y2="18"></line>\n            <line x1="6" y1="6" x2="18" y2="18"></line>\n          </svg>\n        </button>\n        <div class="form-header">\n          <h2>Create New Story</h2>\n        </div>\n        <form id="storyForm">\n          <div class="form-group">\n            <label for="description">Story Description</label>\n            <textarea id="description" required placeholder="Tell your story..."></textarea>\n            <div class="error-text" id="descriptionError">Please enter your story description</div>\n          </div>\n          \n          <div class="form-group">\n            <label for="photo">Story Photo</label>\n            <div class="photo-options">\n              <button type="button" class="photo-option-btn" id="cameraButton">\n                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                  <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path>\n                  <circle cx="12" cy="13" r="4"></circle>\n                </svg>\n                Take Photo\n              </button>\n              <button type="button" class="photo-option-btn" id="uploadButton">\n                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>\n                  <polyline points="17 8 12 3 7 8"></polyline>\n                  <line x1="12" y1="3" x2="12" y2="15"></line>\n                </svg>\n                Upload Photo\n              </button>\n            </div>\n            <input type="file" id="fileInput" accept="image/*" style="display: none;">\n            <img id="imagePreview" class="image-preview" alt="Preview">\n            <div class="error-text" id="photoError">Please provide a photo</div>\n          </div>\n          \n          <div class="form-group">\n            <label>Location (Optional)</label>\n            <button type="button" class="location-btn" id="locationButton">\n              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>\n                <circle cx="12" cy="10" r="3"></circle>\n              </svg>\n              Select Location\n            </button>\n            <div class="map-container" id="map"></div>\n            <p class="coordinates-info" id="coordinatesInfo">No location selected</p>\n          </div>\n          \n          <button type="submit" id="submitButton">Publish Story</button>\n          <p id="successMessage"></p>\n          <p id="errorMessage"></p>\n        </form>\n      </div>\n    '}},{key:"connectedCallback",value:function(){var n=this;document.startViewTransition&&(document.documentElement.style.viewTransitionName="create-page",this.style.contain="layout paint"),this._initMap(),this._initForm(),this.shadowRoot.getElementById("closeButton").addEventListener("click",u(l().mark((function t(){var e;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(document.startViewTransition){t.next=7;break}return n.shadowRoot.getElementById("closeButton").animate([{transform:"scale(1)",opacity:1},{transform:"scale(0.9)",opacity:.8}],{duration:200,easing:"ease-out"}),t.next=5,n.animate([{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(20px)"}],{duration:300,easing:"ease-in-out"}).finished;case 5:return window.location.hash="#/home",t.abrupt("return");case 7:return document.documentElement.classList.add("create-to-home-transition"),e=document.startViewTransition((function(){window.location.hash="#/home"})),t.next=11,e.finished;case 11:document.documentElement.classList.remove("create-to-home-transition");case 12:case"end":return t.stop()}}),t)})))),this.shadowRoot.getElementById("cameraButton").addEventListener("click",(function(){n._openCameraModal()})),this.shadowRoot.getElementById("uploadButton").addEventListener("click",(function(){n.shadowRoot.getElementById("fileInput").click()})),this.shadowRoot.getElementById("fileInput").addEventListener("change",(function(t){n._handleFileUpload(t)}))}},{key:"_handleFileUpload",value:function(n){var t=this,e=n.target.files[0];if(e)if(e.type.match("image.*")){var o=new FileReader;o.onload=function(n){t._photoData=n.target.result;var e=t.shadowRoot.getElementById("imagePreview");e.src=t._photoData,e.style.display="block";var o=t.shadowRoot.querySelector(".form-group:nth-child(2)"),r=t.shadowRoot.getElementById("photoError");o.classList.remove("invalid"),o.classList.add("valid"),r.style.display="none"},o.readAsDataURL(e)}else this.showError("Please select an image file")}},{key:"_openCameraModal",value:(a=u(l().mark((function n(){var t,e,o,r,i,a,s=this;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(t=document.createElement("div")).className="camera-modal",t.animate([{opacity:0,transform:"scale(0.9)"},{opacity:1,transform:"scale(1)"}],{duration:300,easing:"ease-out"}),(e=document.createElement("div")).className="camera-container",(o=document.createElement("video")).className="camera-preview",o.autoplay=!0,o.playsInline=!0,(r=document.createElement("button")).className="close-camera-btn",r.innerHTML='\n      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n        <line x1="18" y1="6" x2="6" y2="18"></line>\n        <line x1="6" y1="6" x2="18" y2="18"></line>\n      </svg>\n    ',(i=document.createElement("div")).className="camera-controls",(a=document.createElement("button")).className="capture-btn",a.innerHTML='\n      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2">\n        <circle cx="12" cy="12" r="10"></circle>\n      </svg>\n    ',i.appendChild(a),e.appendChild(r),e.appendChild(o),e.appendChild(i),t.appendChild(e),this.shadowRoot.appendChild(t),n.prev=23,n.next=26,navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!1});case 26:this._stream=n.sent,o.srcObject=this._stream,r.addEventListener("click",(function(){return s._closeCameraModal(t)})),a.addEventListener("click",(function(){return s._capturePhoto(o,t)})),n.next=37;break;case 32:n.prev=32,n.t0=n.catch(23),console.error("Error accessing camera:",n.t0),this.showError("Could not access camera. Please check permissions."),this.shadowRoot.removeChild(t);case 37:case"end":return n.stop()}}),n,this,[[23,32]])}))),function(){return a.apply(this,arguments)})},{key:"_closeCameraModal",value:function(n){this._stream&&(this._stream.getTracks().forEach((function(n){return n.stop()})),this._stream=null),n&&n.parentNode&&this.shadowRoot.removeChild(n)}},{key:"_capturePhoto",value:function(n,t){t.querySelector(".capture-btn").animate([{transform:"scale(1)",boxShadow:"0 0 0 0 rgba(255,255,255,0.4)"},{transform:"scale(0.95)",boxShadow:"0 0 0 10px rgba(255,255,255,0)"}],{duration:500,easing:"ease-out"});var e=document.createElement("canvas"),o=n;e.width=o.videoWidth,e.height=o.videoHeight,e.getContext("2d").drawImage(o,0,0,e.width,e.height),this._photoData=e.toDataURL("image/jpeg",.8);var r=this.shadowRoot.getElementById("imagePreview");r.src=this._photoData,r.style.display="block";var i=this.shadowRoot.querySelector(".form-group:nth-child(2)"),a=this.shadowRoot.getElementById("photoError");this._photoData?(i.classList.remove("invalid"),i.classList.add("valid"),a.style.display="none"):(i.classList.remove("valid"),i.classList.add("invalid"),a.style.display="block"),this._closeCameraModal(t)}},{key:"_initMap",value:function(){var n=this,t=this.shadowRoot.getElementById("map"),e=this.shadowRoot.getElementById("locationButton"),o=this.shadowRoot.getElementById("coordinatesInfo");this._map&&(this._map.remove(),this._map=null),this._map=r().map(t,{center:[-2.5489,118.0149],zoom:5,zoomControl:!0,attributionControl:!1}),setTimeout((function(){r().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,crossOrigin:!0}).addTo(n._map),setTimeout((function(){n._map.invalidateSize()}),100)}),100),this._map.on("click",(function(t){var e=t.latlng,r=e.lat,i=e.lng;n._updateLocation(r,i,o)})),e.addEventListener("click",(function(){n._getCurrentLocation(o)})),this._resizeObserver=new ResizeObserver((function(){n._map&&setTimeout((function(){n._map.invalidateSize()}),100)})),this._resizeObserver.observe(t)}},{key:"_updateLocation",value:function(n,t,e){this._coordinates={lat:n,lon:t},this._marker?this._marker.setLatLng([n,t]):this._marker=r().marker([n,t]).addTo(this._map),e.textContent="Lat: ".concat(n.toFixed(4),", Lng: ").concat(t.toFixed(4)),e.style.color="#93BFCF",this._map.setView([n,t],15)}},{key:"_getCurrentLocation",value:function(n){var t=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){var o=e.coords,r=o.latitude,i=o.longitude;t._updateLocation(r,i,n)}),(function(n){console.error("Geolocation error:",n),t.showError("Tidak bisa mendapatkan lokasi. Silakan pilih manual di peta.")})):this.showError("Browser tidak mendukung geolokasi. Silakan pilih manual di peta.")}},{key:"_initForm",value:function(){var n=this,t=this.shadowRoot.getElementById("storyForm"),e=this.shadowRoot.getElementById("description"),o=this.shadowRoot.getElementById("descriptionError");e.addEventListener("input",(function(){n._validateDescription(e,o)})),t.addEventListener("submit",function(){var t=u(l().mark((function t(r){var i,a,c,d,u,p,h;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),i=e.value,a=n.shadowRoot.querySelector(".form-group:nth-child(2)"),c=n.shadowRoot.getElementById("photoError"),d=n._validateDescription(e,o),(u=null!==n._photoData)||(a.classList.remove("valid"),a.classList.add("invalid"),c.style.display="block"),!(d&&u&&n.onSubmit)){t.next=13;break}return t.next=10,fetch(n._photoData).then((function(n){return n.blob()}));case 10:p=t.sent,h=new File([p],"photo.jpg",{type:"image/jpeg"}),n.onSubmit(s({description:i,photo:h},n._coordinates));case 13:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())}},{key:"_validateDescription",value:function(n,t){var e=""!==n.value.trim();return this._updateValidationState(n,t,e,"Please enter your story description"),e}},{key:"_validatePhoto",value:function(n,t){var e=n.files&&n.files.length>0,o=n.parentElement;return e?(o.classList.remove("invalid"),o.classList.add("valid"),t.style.display="none"):(o.classList.remove("valid"),o.classList.add("invalid"),t.style.display="block"),e}},{key:"_updateValidationState",value:function(n,t,e,o){var r=n.parentElement;""===n.value?(r.classList.remove("invalid","valid"),t.style.display="none"):e?(r.classList.remove("invalid"),r.classList.add("valid"),t.style.display="none"):(r.classList.remove("valid"),r.classList.add("invalid"),t.textContent=o,t.style.display="block")}},{key:"setSubmitHandler",value:function(n){this.onSubmit=n}},{key:"showLoading",value:function(){var n=this.shadowRoot.getElementById("submitButton");n.disabled=!0,n.innerHTML='<span class="spinner"></span> Publishing...'}},{key:"hideLoading",value:function(){var n=this.shadowRoot.getElementById("submitButton");n.disabled=!1,n.textContent="Publish Story"}},{key:"showSuccess",value:function(n){var t=this,e=this.shadowRoot.getElementById("successMessage");this.shadowRoot.getElementById("errorMessage").style.display="none",e.textContent=n,e.style.display="block",setTimeout((function(){t._resetForm()}),2e3)}},{key:"showError",value:function(n){var t=this.shadowRoot.getElementById("successMessage"),e=this.shadowRoot.getElementById("errorMessage");t.style.display="none",e.textContent=n,e.style.display="block"}},{key:"_resetForm",value:function(){this.shadowRoot.getElementById("storyForm").reset();var n=this.shadowRoot.getElementById("imagePreview");n.style.display="none",n.src="",this._coordinates=null,this._marker&&(this._map.removeLayer(this._marker),this._marker=null),this.shadowRoot.getElementById("coordinatesInfo").textContent="No location selected",this.shadowRoot.getElementById("coordinatesInfo").style.color="#9ca3af",this.shadowRoot.querySelectorAll(".form-group").forEach((function(n){n.classList.remove("valid","invalid")})),this.shadowRoot.querySelectorAll(".error-text").forEach((function(n){n.style.display="none"})),this.shadowRoot.getElementById("successMessage").style.display="none",this.shadowRoot.getElementById("errorMessage").style.display="none",this._photoData=null}},{key:"disconnectedCallback",value:function(){document.startViewTransition&&(document.documentElement.style.viewTransitionName="create-page",this.style.contain="layout paint"),this._stream&&(this._stream.getTracks().forEach((function(n){return n.stop()})),this._stream=null),this._map&&(this._map.remove(),this._map=null),this._marker&&(this._marker.remove(),this._marker=null),this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}}],o&&p(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,o,a}(f(HTMLElement))}}]);